### 指针和地址，简易理解。

#### 地址

任何语言中，变量存储需要空间，而空间其实是可以分区域的，为了方便，我们给每块区域一个编号，这个编号就叫做地址。比如下面简易的一块区域的示意图。

![img](file:///D:\QQ\1954426820\Image\C2C\504382C45BF170D9B7710848845F6F8E.jpg)

一般来说，地址一般都是一长串十六进制码。

#### 取地址符

cpp中的取地址符是“&”，在任何一个变量前面加上&就取成为一个地址。比如：

```cpp
int a = 1;
cout << "&a" << endl;
// 输出a在计算机中的地址。
```

#### 指针

在某些情况下，我们想要把变量的地址放在某个地方随时调用而不需要每次加一个取地址符。在这种情况下，就要用到指针变量。指针变量的声明方式很简单。比如想要一个int型的指针变量，就用int*，想要char型指针变量就用char\*。这里注意，不同类型的变量必须用对应类型的指针去接收，我也不知道为什么。比如：

```cpp
int a = 1;
bool state = true;
int* p = &a;  // 这里书上大多写为int *p = &a,其实`int *`和`int*`没区别。反而是后一种更好理解。

// 如果执行：
cout << p << endl;
//会输出a的地址。

p = &state;  // 错误！类型不同。
```

有一个默认的规矩，当指针变量接受了一个地址，就称这个指针变量指向地址处存放的那个变量。比如，上面的例子，我们说p指向a。

#### 指针的解引用

有如下代码：

```cpp
int a = 1;
int* p = &a;
cout << *p << endl;
// 输出1。
```

这个`*`叫解引用符，在指针变量前面加上这个就能得到指针所指向的那个变量。

这里要区分开`*`和`int*`，两者不同的，一个是解引用，另一个是变量类型，int和*结合在一起。这就是为什么我喜欢写`int*`而不是`int *`。

#### 更深入的理解

不妨用一个经典的例子。有一个书架，上面摆满书。这个书架就好比存储空间，而书就是变量。当你想找一本书，你不用去找书名，而是去数据库里面找对应的位置号。这个位置号就像一个指针变量，它就是一个编号，但是这个编号指向这本书。

![img](file:///D:\QQ\1954426820\Image\C2C\7B05AD20E3E9E772DAE03879A75D54CC.jpg)

#### 首地址

字符串在cpp中的存储是这样的：



其中\0是字符串结尾的标识，cpp在存储时会自动给你加上，输出时会自动删去。

这个F01就是首地址。就好比确定一条直线一样，知道了首地址和\0就能提取出这个字符串。