# 理论

## 简介

![](D:\notes\《b站-stm32入门教程》\pic\dma1.png)

- dma的触发条件是不同的

## mcu存储器

![](D:\notes\《b站-stm32入门教程》\pic\dma2.png)

- rom：掉电不丢失
- ram：掉电丢失

## dma电路

![](D:\notes\《b站-stm32入门教程》\pic\dma3.png)

- 存储器主要是flash和sram，但flsah是rom类型，只读
- 仲裁器的目的是进行调度防止多通道产生冲突

## dma逻辑结构

![](D:\notes\《b站-stm32入门教程》\pic\dma4.png)

- 数据宽度：有uint8t,uint16t和uint32t
- 地址是否自增: 指针是否移动
- 传输计数器：倒数转运次数
- 自动重装器：决定是否在转运完成后进行重装继续转运
- 软件触发：尽快使计数器清零，不能和自动重装同时用
- 硬件触发：传入一个信号时才会触发
- 不能在dma开启时写计数器

## 数据宽度与对齐

源端和目标端宽度不同时进行补0或舍弃

